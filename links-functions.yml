createLink:
  handler: src/links/handler.create
  events:
    - httpApi:
        path: /links
        method: POST
        authorizer:
          name: jwt-auth

deactivateLink:
  handler: src/links/handler.deactivate
  events:
    - httpApi:
        path: /links/{linkId}
        method: DELETE
        authorizer:
          name: jwt-auth

deactivateExpired:
  handler: src/links/handler.removeExpiredLinks
  events:
    - eventBridge:
        schedule: rate(3 minutes)

listLink:
  handler: src/links/handler.list
  events:
    - httpApi:
        path: /links
        method: GET
        authorizer:
          name: jwt-auth

redirect:
  handler: src/links/handler.redirect
  events:
    - httpApi:
        path: /{linkId}
        method: GET